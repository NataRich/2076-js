parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"g6pr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetAll=c,exports.resetPolicyAndResearchCount=p,exports.other=exports.foodCost=exports.foodGain=exports.population=void 0;var r={farmers:60,criminals:20,prisoners:0,scientists:0,soldiers:0},s={farmer:20},e={farmer:10,criminal:20,prisoner:10,scientist:10,soldier:15},o={food:2e3,day:1,tf:1,policyCount:0,researchCount:0},i={farmers:60,criminals:20,prisoners:0,scientists:0,soldiers:0};exports.population=i;var t={farmer:20};exports.foodGain=t;var n={farmer:10,criminal:20,prisoner:10,scientist:10,soldier:15};exports.foodCost=n;var a={food:2e3,day:1,tf:1,policyCount:0,researchCount:0};function c(){i.criminals=r.criminals,i.farmers=r.farmers,i.prisoners=r.prisoners,i.scientists=r.scientists,i.soldiers=r.soldiers,t.farmer=s.farmer,n.criminals=e.criminals,n.farmers=e.farmers,n.prisoners=e.prisoners,n.scientists=e.scientists,n.soldiers=e.soldiers,a.policyCount=o.policyCount,a.researchCount=o.researchCount,a.day=o.day,a.food=o.food,a.tf=o.tf}function p(){a.policyCount=o.policyCount,a.researchCount=o.researchCount}exports.other=a;
},{}],"ctBe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFarmersFoodGain=t,exports.getFarmersFoodCost=r,exports.getCriminalsFoodCost=e,exports.getPrisonersFoodCost=n,exports.getScientistsFoodCost=i,exports.getSoldiersFoodCost=s,exports.waterResearch=a,exports.landResearch=p,exports.cropResearch=u,exports.canResearch=l,exports.canEnforcePolicy=c,exports.eduPromotion=f,exports.scientistRetirement=h,exports.longHourFarming=d,exports.militaryRecruitment=m,exports.militaryRetirement=C,exports.catchIfShould=x,exports.specialEventChangeTechFactor=y,exports.specialEventChangeCropProduction=g,exports.isGameOver=v,exports.naturalUpdateVariables=M;var o=require("./varibale");function t(){return o.foodGain.farmer*o.other.tf*o.population.farmers}function r(){return-1*o.population.farmers*(o.foodCost.farmer+2*(o.other.day-1))}function e(){return-1*o.population.criminals*(o.foodCost.criminal+2*(o.other.day-1))}function n(){return-1*o.population.prisoners*(o.foodCost.prisoner+2*(o.other.day-1))}function i(){return-1*o.population.scientists*(o.foodCost.prisoner+2*(o.other.day-1))}function s(){return-1*o.population.soldiers*(o.foodCost.soldier+2*(o.other.day-1))}function a(){var t=.2*(.3*o.population.scientists-.006*o.population.scientists^2);o.other.tf+=t>1?[.5,.55,.7,.75][Math.floor(10*Math.random())%possibility3.length]:0,o.other.researchCount+=1}function p(){var t=[.25,.4,.5],r=.34*(.3*o.population.scientists-.006*o.population.scientists^2);o.other.tf+=r>1?t[Math.floor(10*Math.random())%t.length]:0,o.other.researchCount+=1}function u(){var t=[.2,.25],r=.6*(.3*o.population.scientists-.006*o.population.scientists^2);o.other.tf+=r>1?t[Math.floor(10*Math.random())%t.length]:0,o.other.researchCount+=1}function l(){return 0==o.other.researchCount}function c(){return 0==o.other.policyCount}function f(){var t=Math.floor(.1*o.population.farmers);o.population.farmers-=t,o.population.scientists+=t,o.other.policyCount+=1}function h(){var t=Math.floor(.1*o.population.scientists);o.population.scientists-=t,o.population.farmers+=t,o.other.policyCount+=1}function d(){o.foodGain.farmer+=5,o.other.policyCount+=1}function m(){var t=Math.floor(.1*o.population.farmers);o.population.farmers-=t,o.population.soldiers+=t,o.other.policyCount+=1}function C(){var t=Math.floor(.1*o.population.soldiers);o.population.soldiers-=t,o.population.farmers+=t,o.other.policyCount+=1}function x(){o.other.day%2==0&&(o.population.criminals-=1,o.population.prisoners+=1)}function y(t){o.other.tf+=t}function g(t){o.foodGain.farmer+=t}function v(){return o.other.food<=0}function M(){o.other.food=o.other.food+t()+r()+e()+n()+s()+i(),o.other.day++}
},{"./varibale":"g6pr"}],"sF45":[function(require,module,exports) {
"use strict";function s(){var s=document.getElementsByClassName("event-card")[0];s.classList.contains("event-card-show")||s.classList.add("event-card-show")}function e(){var s=document.getElementsByClassName("event-card")[0];s.classList.contains("event-card-show")&&s.classList.remove("event-card-show")}function t(){var s=document.getElementsByClassName("info-card")[0];s.classList.contains("info-card-show")||s.classList.add("info-card-show")}function n(){var s=document.getElementsByClassName("info-card")[0];s.classList.contains("info-card-show")&&s.classList.remove("info-card-show")}function a(){var s=document.getElementsByClassName("panel-trigger-btn")[0];s.classList.contains("panel-trigger-btn-follow")||s.classList.add("panel-trigger-btn-follow")}function o(){var s=document.getElementsByClassName("panel-trigger-btn")[0];s.classList.contains("panel-trigger-btn-follow")&&s.classList.remove("panel-trigger-btn-follow")}function r(){var s=document.getElementsByClassName("panel")[0];s.classList.contains("panel-show")||s.classList.add("panel-show")}function i(){var s=document.getElementsByClassName("panel")[0];s.classList.contains("panel-show")&&s.classList.remove("panel-show")}function l(){var s=document.getElementsByClassName("game-over")[0];s.classList.contains("game-over-show")||s.classList.add("game-over-show")}function c(){var s=document.getElementsByClassName("game-over")[0];s.classList.contains("game-over-show")&&s.classList.remove("game-over-show")}function d(s){for(var e=document.getElementsByClassName(s),t=0;t<e.length;t++)e[t].classList.contains("ctbn-button-disabled")||e[t].classList.add("ctbn-button-disabled")}function m(s){for(var e=document.getElementsByClassName(s),t=0;t<e.length;t++)e[t].classList.contains("ctbn-button-disabled")&&e[t].classList.remove("ctbn-button-disabled")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addEventCardTransition=s,exports.removeEventCardTransition=e,exports.addInfoCardTransition=t,exports.removeInfoCardTransition=n,exports.addPanelTriggerButtonTransition=a,exports.removePanelTriggerButtonTransition=o,exports.addPanelTransition=r,exports.removePanelTransition=i,exports.addGameOverTransition=l,exports.removeGameOverTransition=c,exports.addControlButtonTransition=d,exports.removeControlButtonTransition=m;
},{}],"f7o4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerClickListenerForPanelTriggerButton=o,exports.updatePanelData=c;var e=require("./effect"),t=require("./varibale"),n=r(require("./calFunction"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function o(){var t=document.getElementsByClassName("panel-trigger-btn")[0];t.addEventListener("click",function(){c(),"Statistics"===t.innerText?(t.innerText="Close",(0,e.addPanelTriggerButtonTransition)(),(0,e.addPanelTransition)()):(t.innerText="Statistics",(0,e.removePanelTriggerButtonTransition)(),(0,e.removePanelTransition)())},!1)}function s(e){var t=Number.parseInt(e,10);return isNaN(t)&&(t=Number.parseInt(e.substring(1,e.length-1).replace("+",""),10)),isNaN(t)?0:t}function i(e){return e>=0?"+"+e:e}function l(e){return s(e)<0}function m(){for(var e=document.getElementsByClassName("delta"),t=0;t<e.length;t++)e[t].style.color=l(e[t].innerText)?"red":"green"}function c(){var e=document.getElementsByClassName("farmer-pop-data")[0];e.innerText=t.population.farmers,document.getElementsByClassName("farmer-pop-change-data")[0].innerText="["+i(t.population.farmers-s(e.innerText))+"]";var a=document.getElementsByClassName("criminal-pop-data")[0];a.innerText=t.population.criminals,document.getElementsByClassName("criminal-pop-change-data")[0].innerText="["+i(t.population.criminals-s(a.innerText))+"]";var r=document.getElementsByClassName("prisoner-pop-data")[0];r.innerText=t.population.prisoners,document.getElementsByClassName("prisoner-pop-change-data")[0].innerText="["+i(t.population.prisoners-s(r.innerText))+"]";var o=document.getElementsByClassName("soldier-pop-data")[0];o.innerText=t.population.soldiers,document.getElementsByClassName("soldier-pop-change-data")[0].innerText="["+i(t.population.soldiers-s(o.innerText))+"]";var l=document.getElementsByClassName("scientist-pop-data")[0];l.innerText=t.population.scientists,document.getElementsByClassName("scientist-pop-change-data")[0].innerText="["+i(t.population.scientists-s(l.innerText))+"]",document.getElementsByClassName("food-data")[0].innerText=t.other.food,document.getElementsByClassName("tech-fc")[0].innerText=t.other.tf,document.getElementsByClassName("survival-day-data")[0].innerText=t.other.day,document.getElementsByClassName("farmer-food-gain-data")[0].innerText="["+i(n.getFarmersFoodGain())+"]",document.getElementsByClassName("farmer-food-cost-data")[0].innerText="["+i(n.getFarmersFoodCost())+"]",document.getElementsByClassName("criminal-food-change-data")[0].innerText="["+i(n.getCriminalsFoodCost())+"]",document.getElementsByClassName("prisoner-food-change-data")[0].innerText="["+i(n.getPrisonersFoodCost())+"]",document.getElementsByClassName("soldier-food-change-data")[0].innerText="["+i(n.getSoldiersFoodCost())+"]",document.getElementsByClassName("scientist-food-change-data")[0].innerText="["+i(n.getScientistsFoodCost())+"]",m()}
},{"./effect":"sF45","./varibale":"g6pr","./calFunction":"ctBe"}],"nzB0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setButtons=i,exports.getActiveOption=a,exports.getControlButtonInfo=c,exports.fillControlButtonInfo=l,exports.registerClickListenerForOptions=u,exports.registerMouseEnterListenerForControlButtons=m,exports.updateControlButtonStyle=d,exports.registerClickListenerForControlButtons=f;var e=require("./calFunction"),t=require("./effect"),n=require("./panel"),r={policies:{count:5,options:["Education Promotion","Long-hour Farming","Military Recruitment","Military Retirement","Scientist Retirement"]},research:{count:3,options:["Water","Land","Crops"]}},o=[{name:"Education Promotion",desc:"Promotes education among farmers and transform them to scientists."},{name:"Long-hour Farming",desc:"Enforces farmers to work for extra hours to harvest more crops."},{name:"Military Recruitment",desc:"Recruits more soldiers among farmers."},{name:"Military Retirement",desc:"Asks some soldiers to retire, so they turn back to farmers."},{name:"Scientist Retirement",desc:"Asks some scientists to retire, so they turn back to farmers."},{name:"Water",desc:"Asks scientists to study how to improve water quality."},{name:"Land",desc:"Asks scientists to study how to improve land quality."},{name:"Crops",desc:"Asks scientists to study how to increase crop production."}];function s(e){return"Policies"===e?r.policies:r.research}function i(e){var t=document.getElementsByClassName("buttons")[0];t.innerHTML="";for(var n=0;n<e.count;n++){var o=document.createElement("div");o.innerText=e.options[n],o.className="cbtn "+(r.policies.options.includes(e.options[n])?"Policies":"Research"),t.appendChild(o)}}function a(){for(var e=document.getElementsByClassName("opt"),t=0;t<e.length;t++)if(e[t].classList.contains("active"))return s(e[t].innerText);return null}function c(e){for(var t=0;t<o.length;t++)if(e.innerText===o[t].name)return o[t];return null}function l(e){document.getElementsByClassName("info-name")[0].innerText=e.name,document.getElementsByClassName("info-desc")[0].innerText=e.desc}function u(){for(var e=document.getElementsByClassName("opt"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){for(var t=document.getElementsByClassName("opt"),n=0;n<t.length;n++)t[n].className="opt";e.currentTarget.className="opt active ",i(a()),m(),f(),d()},!1)}function m(){for(var e=document.getElementsByClassName("cbtn"),n=0;n<e.length;n++)e[n].addEventListener("mouseenter",function(e){l(c(e.currentTarget)),(0,t.addInfoCardTransition)()},!1),e[n].addEventListener("mouseleave",function(e){(0,t.removeInfoCardTransition)()},!1)}function d(){(0,e.canResearch)()?(0,t.removeControlButtonTransition)("Research"):(0,t.addControlButtonTransition)("Research"),(0,e.canEnforcePolicy)()?(0,t.removeControlButtonTransition)("Policies"):(0,t.addControlButtonTransition)("Policies")}function f(){for(var t=document.getElementsByClassName("cbtn"),r=0;r<t.length;r++)t[r].addEventListener("click",function(t){var r=t.currentTarget;if((0,e.canResearch)()&&r.classList.contains("Research"))switch(r.innerText){case"Water":(0,e.waterResearch)();break;case"Land":(0,e.landResearch)();break;case"Crops":(0,e.cropResearch)();break;default:console.log("Unknown research.")}if((0,e.canEnforcePolicy)()&&r.classList.contains("Policies"))switch(r.innerText){case"Education Promotion":(0,e.eduPromotion)();break;case"Long-hour Farming":(0,e.longHourFarming)();break;case"Military Recruitment":(0,e.militaryRecruitment)();break;case"Military Retirement":(0,e.militaryRetirement)();break;case"Scientist Retirement":(0,e.scientistRetirement)();break;default:console.log("Unknown policy.")}(0,n.updatePanelData)(),d()},!1)}
},{"./calFunction":"ctBe","./effect":"sF45","./panel":"f7o4"}],"lDTy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomGenerateEventCard=c,exports.registerClickListenerForEventButton=d;var e=require("./calFunction"),t=require("./effect"),a=require("./panel"),r=["Fuel Leakage","Gifts From Future","Farmer Riots"],n=[{type:"Increased",desc:["How cyberpunk! The water nearby was improved after absorbing the fuel!","Amazing! A high-tech machine from future was found by a farmer yesterday in the farm largely increasing the standard of living!","What? Farmers started a riot yesterday but ended up improving our life!"],effect:[[5,.1],[8,.3],[3,.1]]},{type:"Decreased",desc:["Alert! The only water body nearby was contaminated last night due to the leakage of fuels in famers' bionic arms!","Unfortunate! A scrapped machine was misused by farmers as a high-tech reducing the standard of living!","Such a tragedy! Farmers started a riot yesterday! They damaged everything!"],effect:[[-5,-.1],[-8,-.3],[-3,-.1]]}],s=["Crop Production","Technology Level"];function o(){var e=Math.floor(10*Math.random()%r.length),t=Math.floor(10*Math.random()%n.length),a=Math.floor(10*Math.random()%s.length);return{subject:r[e],action:n[t].type,desc:n[t].desc[e],effect:n[t].effect[e][a],target:s[a]}}function i(e){document.getElementsByClassName("subject")[0].innerText=e.subject,document.getElementsByClassName("desc")[0].innerText=e.desc,document.getElementsByClassName("result")[0].innerText=(e.target+" "+e.action+" by "+e.effect+".").replace("-","")}function c(){var e=Math.floor(10*Math.random());1!==e&&2!==e||(i(o()),(0,t.addEventCardTransition)())}function d(){document.getElementsByClassName("event-btn")[0].addEventListener("click",function(){var r=document.getElementsByClassName("result")[0].innerText.split(" "),n=Number.parseFloat(r[r.length-1]);(n="Increased"===r[r.length-2]?n:-n)>0&&n<1||n<0&&n>-1?(0,e.specialEventChangeTechFactor)(n):(0,e.specialEventChangeCropProduction)(n),(0,t.removeEventCardTransition)(),(0,a.updatePanelData)()},!1)}
},{"./calFunction":"ctBe","./effect":"sF45","./panel":"f7o4"}],"gNm6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerClickListenerForNextDayButton=c,exports.registerClickListenerForGameRestart=l;var e=require("./varibale"),t=u(require("./calFunction")),r=require("./panel"),n=require("./effect"),a=require("./event"),o=require("./control");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function c(){document.getElementsByClassName("next-day-btn")[0].addEventListener("click",function(){t.catchIfShould(),t.naturalUpdateVariables(),(0,e.resetPolicyAndResearchCount)(),(0,r.updatePanelData)(),(0,o.updateControlButtonStyle)(),(0,n.removeEventCardTransition)(),(0,n.removeInfoCardTransition)(),t.isGameOver()?(0,n.addGameOverTransition)():(0,a.randomGenerateEventCard)()},!1)}function l(){document.getElementsByClassName("game-over-btn")[0].addEventListener("click",function(){(0,e.resetAll)(),(0,r.updatePanelData)(),(0,n.removeGameOverTransition)()},!1)}
},{"./varibale":"g6pr","./calFunction":"ctBe","./panel":"f7o4","./effect":"sF45","./event":"lDTy","./control":"nzB0"}],"epB2":[function(require,module,exports) {
"use strict";var e=require("./js/control"),r=require("./js/event"),t=require("./js/panel"),i=require("./js/lifecycle");function s(){(0,e.setButtons)((0,e.getActiveOption)()),(0,e.registerMouseEnterListenerForControlButtons)(),(0,e.registerClickListenerForControlButtons)(),(0,r.registerClickListenerForEventButton)(),(0,e.registerClickListenerForOptions)(),(0,t.registerClickListenerForPanelTriggerButton)(),(0,i.registerClickListenerForNextDayButton)(),(0,i.registerClickListenerForGameRestart)(),(0,t.updatePanelData)()}s();
},{"./js/control":"nzB0","./js/event":"lDTy","./js/panel":"f7o4","./js/lifecycle":"gNm6"}]},{},["epB2"], null)
//# sourceMappingURL=/main.bba86566.js.map